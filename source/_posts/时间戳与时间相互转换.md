---
title: 时间戳与时间相互转换
date: 2020-03-05 21:41:48
categories:
- [前端, JavaScript]
---
## 时间戳

主要使用的时间戳有2种，分别是10位的时间戳和13位的时间戳。13位的时间戳是精确到毫秒(ms),10位的时间戳是精确到秒(s)。如2020-03-05 11:12:13的13位时间戳是1583377933000，10位的时间戳为1583377933。

## 时间转换为时间戳

### 1.获取当前时间

```javascript
    var NowDate = new Date(); //Thu Mar 05 2020 19:54:32 GMT+0800 (中国标准时间)
    //重新拼接
    var year = NowDate.getFullYear(); //获取年份
    var month = (NowDate.getMonth()+1 < 10 ? '0'+(NowDate.getMonth()+1) : NowDate.getMonth()+1) //获取月份
    var date = NowDate.getDate(); //获取日期
    var hours = NowDate.getHours(); //获取时
    var minutes = NowDate.getMinutes(); //获取分
    var seconds = NowDate.getSeconds(); //获取秒
    var time = year + '-' + month + '-' + date + ' ' + hours + ':' + minutes + ':' + seconds;
    console.log(time); //2020-03-5 20:12:34
```

### 2. 转换为时间戳

```javascript
    var time1 = Date.parse(time);  //1583411304000
```

## 时间戳转化为时间  

### 1.获取时间戳

```javascript
    var timestamp = Date.parse(new Date()); //1583412506000 
    var timestamp = (new Date()).valueOf(); //1583412597000 
```

### 2.时间戳转换为时间

需要先判断是精确到秒还是精确到毫秒 
1583413797006 是一个精确到毫秒的时间戳，正确的转换后应该为2020/3/5 21:9:57 但是如果错用了精确到秒的转换方法 转换后的时间为 52146/5/21 
    21:50:6
1583414011 是一个精确到秒的时间戳，正确的转换结果是2020/3/5 21:13:31，如果使用错误的方法，转换结果为 1970/1/19 15:50:14

```javascript
    var time = new Date(timestamp1); // 精确到毫秒
    time1 = time.toLocaleString();

    var time = new Date(timestamp1*1000);  // 精确到秒
    time1 = time.toLocaleString();
```
